<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">


<h:head>

</h:head>


<h:body>
	<b:container>
		<div class="titrePage">
			<h2>Création d'une nouvelle demande</h2>
		</div>


		<ui:repeat var="demande" value="#{mbDemande.demandes}">
			<h4>#{demande.toString()}</h4>
		</ui:repeat>

		<div id="demandForm">
			<h:form>
				<h:outputLabel value="Type de service requis: " />

				<h:selectOneMenu value="#{mbDemande.demande.activite}"
					converter="omnifaces.SelectItemsConverter">
					<f:selectItems value="#{mbDemande.activites}" var="activite"
						itemValue="#{activite}" itemLabel="#{activite.labelActivite}" />
				</h:selectOneMenu>


				<h:selectOneMenu value="#{mbDemande.demande.ville}"
					converter="omnifaces.SelectItemsConverter">
					<f:selectItems value="#{mbDemande.villes}" var="ville"
						itemValue="#{ville}"
						itemLabel="#{ville.labelVille} cp: #{ville.CP}" />
				</h:selectOneMenu>
			
			Numéro et voie : <h:inputText value="#{mbDemande.demande.voieAction}" />

				<h:inputText a:type="date" value="#{mbDemande.demande.dateAction}">>
					<f:convertDateTime pattern="yyyy-MM-dd" />
				</h:inputText>

				<br />

				<div class="horaire">

					Horaire : de
					<h:selectOneMenu value="#{mbDemande.demande.heureDebut}"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItems value="#{mbDemande.heures}" var="heure"
							itemValue="#{heure}" itemLabel="#{heure.heure}" />
					</h:selectOneMenu>
					:
					<h:selectOneMenu value="#{mbDemande.demande.minuteDebut}"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItems value="#{mbDemande.minutes}" var="minute"
							itemValue="#{minute}" itemLabel="#{minute.minute}" />
					</h:selectOneMenu>
					à
					<h:selectOneMenu value="#{mbDemande.demande.heureFin}"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItems value="#{mbDemande.heures}" var="heure"
							itemValue="#{heure}" itemLabel="#{heure.heure}" />
					</h:selectOneMenu>
					:
					<h:selectOneMenu value="#{mbDemande.demande.minuteFin}"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItems value="#{mbDemande.minutes}" var="minute"
							itemValue="#{minute}" itemLabel="#{minute.minute}" />
					</h:selectOneMenu>

				</div>



				<h:commandButton action="#{mbDemande.registerNewDemand()}"
					value="Valider" />
				<br />
				<h:outputLabel value="#{mbDemande.message}" />
			</h:form>
		</div>
	</b:container>
</h:body>
</html>
